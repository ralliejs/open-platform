{"version":3,"file":"static/js/622.99f779e0.js","mappings":"4IAAWA,EAAqB,CAC5B,QAAS,CAAC,WAAc,OAAO,6BAA6B,GAC5D,QAAS,CAAC,WAAc,OAAO,6BAA6B,ICF5DC,EAAsC,WAStC,OARAA,EAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,CACX,EACOH,EAASa,MAAMC,KAAMP,UAChC,EAGIQ,EAAkB,SAAUC,GAC5B,IAAIC,EAAkBlB,EAAmBiB,GACzC,GAAIC,EACA,OAAOC,QAAQC,IAAIF,EAAgBG,KAAI,SAAUC,GAAU,OAAOA,GAAU,KAAIC,MAAK,SAAUC,GAC3F,IAAIC,EAAS,CAAC,EACdD,EAAUE,SAAQ,SAAUC,GACxBF,EAASxB,EAASA,EAAS,CAAC,EAAGwB,GAASE,EAASC,QACrD,IACAC,EAAA,WAAc,sBAAsB,SAAUC,GAC1C,IAAIb,EAAOa,EAAMC,KAAKd,KACtBa,EAAMC,KAAKP,UAAUP,GAAQQ,CACjC,GACJ,GAER,EACAT,EAAgBa,EAAA,mBAChBA,EAAA,cACgB,SAAUC,GAAS,OAAOA,EAAMC,KAAKd,IAAM,IACtDe,IAAG,SAAUf,EAAMgB,GAChBhB,IAASgB,GACTjB,EAAgBC,EAExB,IACAY,EAAA,aAAgB,CACZK,gBAAiB,SAAUP,GACvBzB,OAAOiC,QAAQR,GAAUD,SAAQ,SAAUU,GACvC,IAAInB,EAAOmB,EAAG,GAAId,EAASc,EAAG,GACzBpC,EAAmBiB,KACpBjB,EAAmBiB,GAAQ,IAE/BjB,EAAmBiB,GAAMoB,KAAKf,GAC1BL,IAASY,EAAA,mBACTb,EAAgBC,EAExB,GACJ,G","sources":["webpack://my-webpack-project/./src/i18n/index.ts","webpack://my-webpack-project/./src/blocks/core/inject-i18n.ts"],"sourcesContent":["export var resourceLoadersMap = {\n    'en-US': [function () { return import('./resources/en-US'); }],\n    'zh-CN': [function () { return import('./resources/zh-CN'); }],\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { core } from './index';\nimport { resourceLoadersMap } from '~/i18n';\nvar updateResources = function (lang) {\n    var resourceLoaders = resourceLoadersMap[lang];\n    if (resourceLoaders) {\n        return Promise.all(resourceLoaders.map(function (loader) { return loader(); })).then(function (resources) {\n            var result = {};\n            resources.forEach(function (resource) {\n                result = __assign(__assign({}, result), resource.default);\n            });\n            core.setState('set i18n resources', function (state) {\n                var lang = state.i18n.lang;\n                state.i18n.resources[lang] = result;\n            });\n        });\n    }\n};\nupdateResources(core.state.i18n.lang);\ncore\n    .watchState(function (state) { return state.i18n.lang; })\n    .do(function (lang, prevLang) {\n    if (lang !== prevLang) {\n        updateResources(lang);\n    }\n});\ncore.addMethods({\n    addI18nResource: function (resource) {\n        Object.entries(resource).forEach(function (_a) {\n            var lang = _a[0], loader = _a[1];\n            if (!resourceLoadersMap[lang]) {\n                resourceLoadersMap[lang] = [];\n            }\n            resourceLoadersMap[lang].push(loader);\n            if (lang === core.state.i18n.lang) {\n                updateResources(lang);\n            }\n        });\n    },\n});\n"],"names":["resourceLoadersMap","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","updateResources","lang","resourceLoaders","Promise","all","map","loader","then","resources","result","forEach","resource","default","core","state","i18n","do","prevLang","addI18nResource","entries","_a","push"],"sourceRoot":""}