"use strict";(self.webpackChunkmy_webpack_project=self.webpackChunkmy_webpack_project||[]).push([[158],{158:(t,e,n)=>{n.r(e),n.d(e,{default:()=>at});var r=n(1527),i=n(336),o=n(9144),u=n(5074),c=n(3571),a=n(8212),s=n(15),M=n(2019),l=n(1272),y=n(959),f=n(9633),j=Symbol.for("immer-nothing"),p=Symbol.for("immer-draftable"),g=Symbol.for("immer-state");function d(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var L=Object.getPrototypeOf;function I(t){return!!t&&!!t[g]}function _(t){return!!t&&(h(t)||Array.isArray(t)||!!t[p]||!!t.constructor?.[p]||x(t)||O(t))}var N=Object.prototype.constructor.toString();function h(t){if(!t||"object"!=typeof t)return!1;const e=L(t);if(null===e)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===N}function S(t,e){0===D(t)?Object.entries(t).forEach((([n,r])=>{e(n,r,t)})):t.forEach(((n,r)=>e(r,n,t)))}function D(t){const e=t[g];return e?e.type_:Array.isArray(t)?1:x(t)?2:O(t)?3:0}function T(t,e){return 2===D(t)?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function A(t,e,n){const r=D(t);2===r?t.set(e,n):3===r?t.add(n):t[e]=n}function x(t){return t instanceof Map}function O(t){return t instanceof Set}function C(t){return t.copy_||t.base_}function z(t,e){if(x(t))return new Map(t);if(O(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!e&&h(t)){if(!L(t)){const e=Object.create(null);return Object.assign(e,t)}return{...t}}const n=Object.getOwnPropertyDescriptors(t);delete n[g];let r=Reflect.ownKeys(n);for(let e=0;e<r.length;e++){const i=r[e],o=n[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[i]})}return Object.create(L(t),n)}function m(t,e=!1){return v(t)||I(t)||!_(t)||(D(t)>1&&(t.set=t.add=t.clear=t.delete=b),Object.freeze(t),e&&S(t,((t,e)=>m(e,!0)))),t}function b(){d(2)}function v(t){return Object.isFrozen(t)}var w,E={};function k(t){const e=E[t];return e||d(0),e}function P(){return w}function Y(t,e){e&&(k("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Q(t){U(t),t.drafts_.forEach(Z),t.drafts_=null}function U(t){t===w&&(w=t.parent_)}function F(t){return w={drafts_:[],parent_:w,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Z(t){const e=t[g];0===e.type_||1===e.type_?e.revoke_():e.revoked_=!0}function W(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return void 0!==t&&t!==n?(n[g].modified_&&(Q(e),d(4)),_(t)&&(t=G(e,t),e.parent_||B(e,t)),e.patches_&&k("Patches").generateReplacementPatches_(n[g].base_,t,e.patches_,e.inversePatches_)):t=G(e,n,[]),Q(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==j?t:void 0}function G(t,e,n){if(v(e))return e;const r=e[g];if(!r)return S(e,((i,o)=>R(t,r,e,i,o,n))),e;if(r.scope_!==t)return e;if(!r.modified_)return B(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const e=r.copy_;let i=e,o=!1;3===r.type_&&(i=new Set(e),e.clear(),o=!0),S(i,((i,u)=>R(t,r,e,i,u,n,o))),B(t,e,!1),n&&t.patches_&&k("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function R(t,e,n,r,i,o,u){if(I(i)){const u=G(t,i,o&&e&&3!==e.type_&&!T(e.assigned_,r)?o.concat(r):void 0);if(A(n,r,u),!I(u))return;t.canAutoFreeze_=!1}else u&&n.add(i);if(_(i)&&!v(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;G(t,i),e&&e.scope_.parent_||B(t,i)}}function B(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&m(e,n)}var K={get(t,e){if(e===g)return t;const n=C(t);if(!T(n,e))return function(t,e,n){const r=$(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}(t,n,e);const r=n[e];return t.finalized_||!_(r)?r:r===V(t.base_,e)?(q(t),t.copy_[e]=J(r,t)):r},has:(t,e)=>e in C(t),ownKeys:t=>Reflect.ownKeys(C(t)),set(t,e,n){const r=$(C(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const r=V(C(t),e),u=r?.[g];if(u&&u.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(((i=n)===(o=r)?0!==i||1/i==1/o:i!=i&&o!=o)&&(void 0!==n||T(t.base_,e)))return!0;q(t),X(t)}var i,o;return t.copy_[e]===n&&(void 0!==n||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty:(t,e)=>(void 0!==V(t.base_,e)||e in t.base_?(t.assigned_[e]=!1,q(t),X(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0),getOwnPropertyDescriptor(t,e){const n=C(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r?{writable:!0,configurable:1!==t.type_||"length"!==e,enumerable:r.enumerable,value:n[e]}:r},defineProperty(){d(11)},getPrototypeOf:t=>L(t.base_),setPrototypeOf(){d(12)}},H={};function V(t,e){const n=t[g];return(n?C(n):t)[e]}function $(t,e){if(!(e in t))return;let n=L(t);for(;n;){const t=Object.getOwnPropertyDescriptor(n,e);if(t)return t;n=L(n)}}function X(t){t.modified_||(t.modified_=!0,t.parent_&&X(t.parent_))}function q(t){t.copy_||(t.copy_=z(t.base_,t.scope_.immer_.useStrictShallowCopy_))}function J(t,e){const n=x(t)?k("MapSet").proxyMap_(t,e):O(t)?k("MapSet").proxySet_(t,e):function(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:P(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=K;n&&(i=[r],o=H);const{revoke:u,proxy:c}=Proxy.revocable(i,o);return r.draft_=c,r.revoke_=u,c}(t,e);return(e?e.scope_:P()).drafts_.push(n),n}function tt(t){if(!_(t)||v(t))return t;const e=t[g];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=z(t,e.scope_.immer_.useStrictShallowCopy_)}else n=z(t,!0);return S(n,((t,e)=>{A(n,t,tt(e))})),e&&(e.finalized_=!1),n}S(K,((t,e)=>{H[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),H.deleteProperty=function(t,e){return H.set.call(this,t,e,void 0)},H.set=function(t,e,n){return K.set.call(this,t[0],e,n,t[0])};var et=new class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,e,n)=>{if("function"==typeof t&&"function"!=typeof e){const n=e;e=t;const r=this;return function(t=n,...i){return r.produce(t,(t=>e.call(this,t,...i)))}}let r;if("function"!=typeof e&&d(6),void 0!==n&&"function"!=typeof n&&d(7),_(t)){const i=F(this),o=J(t,void 0);let u=!0;try{r=e(o),u=!1}finally{u?Q(i):U(i)}return Y(i,n),W(r,i)}if(!t||"object"!=typeof t){if(r=e(t),void 0===r&&(r=t),r===j&&(r=void 0),this.autoFreeze_&&m(r,!0),n){const e=[],i=[];k("Patches").generateReplacementPatches_(t,r,e,i),n(e,i)}return r}d(1)},this.produceWithPatches=(t,e)=>{if("function"==typeof t)return(e,...n)=>this.produceWithPatches(e,(e=>t(e,...n)));let n,r;return[this.produce(t,e,((t,e)=>{n=t,r=e})),n,r]},"boolean"==typeof t?.autoFreeze&&this.setAutoFreeze(t.autoFreeze),"boolean"==typeof t?.useStrictShallowCopy&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){var e;_(t)||d(8),I(t)&&(I(e=t)||d(10),t=tt(e));const n=F(this),r=J(t,void 0);return r[g].isManual_=!0,U(n),r}finishDraft(t,e){const n=t&&t[g];n&&n.isManual_||d(9);const{scope_:r}=n;return Y(r,e),W(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const r=e[n];if(0===r.path.length&&"replace"===r.op){t=r.value;break}}n>-1&&(e=e.slice(n+1));const r=k("Patches").applyPatches_;return I(t)?r(t,e):this.produce(t,(t=>r(t,e)))}},nt=et.produce;et.produceWithPatches.bind(et),et.setAutoFreeze.bind(et),et.setUseStrictShallowCopy.bind(et),et.applyPatches.bind(et),et.createDraft.bind(et),et.finishDraft.bind(et);var rt=n(8402),it=n(9510),ot=function(){return ot=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},ot.apply(this,arguments)},ut=it.m.touch("installedPlugins",[]),ct=function(t){var e=t.id,n=t.onDelete,s=(0,f.$G)(e).t,M=(0,f.$G)("core").t,l=(0,i.oj)(rt.v,(function(t){var n=t.addOns.pluginInfo[e];return{titleKey:null==n?void 0:n.title,descriptionKey:null==n?void 0:n.description}})),y=l.titleKey,j=l.descriptionKey,p=y?s(y):M("plugin-market.defaultPluginTitle"),g=j?s(j):M("plugin-market.defaultPluginDescription"),d=(0,r.jsx)(o.ZP,ot({type:"ghost",onClick:function(){n(e),location.reload()}},{children:M("common.delete")})),L=(0,r.jsx)(u.Z,ot({title:e},{children:(0,r.jsx)(c.C,{shape:"square",src:"data:image/svg+xml;base64,PHN2ZyB0PSIxNjc4MDMxOTAyOTc0IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjUxNDAiIHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIj48cGF0aCBkPSJNNzY4IDEwMjRIMjU2QzExNC45IDEwMjQgMCA5MDkuMSAwIDc2OFYyNTZDMCAxMTQuOSAxMTQuOSAwIDI1NiAwaDUxMmMxNDEuMSAwIDI1NiAxMTQuOSAyNTYgMjU2djUxMmMwIDE0MS4xLTExNC45IDI1Ni0yNTYgMjU2ek0yNTYgOTMuMWMtODkuOCAwLTE2Mi45IDczLjEtMTYyLjkgMTYyLjl2NTEyYzAgODkuOCA3My4xIDE2Mi45IDE2Mi45IDE2Mi45aDUxMmM4OS44IDAgMTYyLjktNzMuMSAxNjIuOS0xNjIuOVYyNTZjMC04OS44LTczLjEtMTYyLjktMTYyLjktMTYyLjlIMjU2eiIgZmlsbD0iIzhhOGE4YSIgcC1pZD0iNTE0MSI+PC9wYXRoPjxwYXRoIGQ9Ik03MTEuNiA0OTYuNWMxNC41IDAgMjguMiAyLjggNDEuMyA4LjQgMTMuMSA1LjYgMjQuNSAxMy40IDM0LjMgMjMuMiA5LjggOS44IDE3LjUgMjEuMyAyMy4xIDM0LjQgNS42IDEzLjEgOC40IDI2LjkgOC40IDQxLjUgMCAxNS0yLjggMjguOS04LjQgNDEuOC01LjYgMTIuOS0xMy4zIDI0LjMtMjMuMSAzNC4xcy0yMS4yIDE3LjYtMzQuMyAyMy4yYy0xMy4xIDUuNi0yNi44IDguNC00MS4zIDguNC0xMy41IDAtMjYuMy0yLjUtMzguMi03LjQtMTEuOS00LjktMjIuNS0xMS40LTMxLjktMTkuM3Y4Ny45YzAgMTIuNy00LjQgMjMuNC0xMy4zIDMyLjMtOC45IDguOS0xOS42IDEzLjQtMzIuMiAxMy40SDI1MWMtMTIuNiAwLTIzLjQtNC41LTMyLjYtMTMuNC05LjEtOC45LTEzLjYtMTkuNy0xMy42LTMyLjN2LTc4YzIuMy05LjggNi41LTE3LjEgMTIuNi0yMS44IDYuMS00LjcgMTQuOS0zLjUgMjYuNiAzLjUgNS42IDMuMyA5LjggNS4yIDEyLjYgNS42IDEyLjEgNi4xIDI0LjUgOS4xIDM3LjEgOS4xIDEyLjYgMCAyNC40LTIuMyAzNS4zLTcgMTEtNC43IDIwLjUtMTEuMSAyOC43LTE5LjMgOC4yLTguMiAxNC42LTE3LjcgMTkuMi0yOC41IDQuNy0xMC44IDctMjIuNSA3LTM1LjFzLTIuMy0yNC41LTctMzUuNS0xMS4xLTIwLjYtMTkuMi0yOC44Yy04LjItOC4yLTE3LjctMTQuNi0yOC43LTE5LjMtMTEtNC43LTIyLjctNy0zNS4zLTctMTIuMSAwLTI0IDIuNi0zNS43IDcuNy0yLjggMC45LTUuMSAxLjktNyAyLjgtNS40IDIuNy0xMC45IDUuMy0xNi40IDcuNy01LjQgMi4zLTEwLjIgMy4zLTE0LjQgMi44LTQuMi0wLjUtNy43LTIuOC0xMC41LTdzLTQuNC0xMS4yLTQuOS0yMS4xdi03My44YzAtMTIuNyA0LjUtMjMuNiAxMy42LTMyLjcgOS4xLTkuMSAyMC0xMy43IDMyLjYtMTMuN2gxMDkuMmMtNy41LTkuNC0xMy40LTE5LjgtMTcuOS0zMS4zLTQuNC0xMS41LTYuNi0yMy44LTYuNi0zNi45IDAtMTUuNSAyLjktMjkuOSA4LjctNDMuMiA1LjgtMTMuNCAxMy43LTI1IDIzLjUtMzQuOCA5LjgtOS44IDIxLjMtMTcuNyAzNC43LTIzLjYgMTMuMy01LjkgMjcuNC04LjggNDIuMy04LjggMTQuOSAwIDI5LjEgMi45IDQyLjQgOC44IDEzLjMgNS45IDI0LjkgMTMuNyAzNC43IDIzLjYgOS44IDkuOCAxNy42IDIxLjQgMjMuNCAzNC44IDUuOCAxMy40IDguOCAyNy44IDguOCA0My4yIDAgMjYuMi04LjIgNDktMjQuNSA2OC4yaDY2LjVjMTIuNiAwIDIzLjMgNC42IDMyLjIgMTMuNyA4LjkgOS4xIDEzLjMgMjAgMTMuMyAzMi43djkzLjVjOS4zLTggMjAtMTQuNCAzMS45LTE5LjMgMTEuOC00LjkgMjQuNS03LjQgMzgtNy40IiBmaWxsPSIjOGE4YThhIiBwLWlkPSI1MTQyIj48L3BhdGg+PC9zdmc+Cg=="})}));return(0,r.jsx)(a.Z,ot({style:{width:350,margin:"20px 20px 20px 0px"},actions:[d]},{children:(0,r.jsx)(a.Z.Meta,{avatar:L,title:p,description:g})}))};function at(){var t,e,n,i=(0,f.$G)("core").t,u=y.useState(!1),c=u[0],a=u[1],j=(t=ut,e=(0,y.useState)((function(){return m("function"==typeof t?t():t,!0)})),n=e[1],[e[0],(0,y.useCallback)((function(t){n("function"==typeof t?nt(t):m(t))}),[])]),p=j[0],g=j[1],d=s.Z.useForm()[0],L=y.useState(!1),I=L[0],_=L[1];y.useEffect((function(){it.m.set("installedPlugins",Array.from(new Set(p)))}),[p]);var N=function(t){var e=p.indexOf(t);e>=0&&g((function(t){t.splice(e,1),console.log(t)}))};return(0,r.jsxs)("div",{children:[(0,r.jsx)(o.ZP,ot({type:"primary",onClick:function(){a(!0)}},{children:i("plugin-market.addPlugin")})),(0,r.jsx)("div",ot({style:{display:"flex"}},{children:p.map((function(t){return(0,r.jsx)(ct,{id:t,onDelete:N},t)}))})),(0,r.jsx)(M.Z,ot({title:i("plugin-market.addPlugin"),open:c,destroyOnClose:!0,onCancel:function(){a(!1)},onOk:function(){d.validateFields().then((function(){var t=d.getFieldValue("id");_(!0),rt.v.activate(t).then((function(){g((function(e){e.push(t)}))})).catch((function(){})).finally((function(){a(!1)}))})).catch((function(){}))},okButtonProps:{loading:I},afterClose:function(){d.resetFields(),_(!1)}},{children:(0,r.jsx)(s.Z,ot({form:d},{children:(0,r.jsx)(s.Z.Item,ot({label:i("plugin-market.pluginID"),name:["id"],rules:[{required:!0,validator:function(t,e,n){var r=e.split("/"),o=r[0],u=r[1];o&&u?n():n(i("plugin-market.wrongFormat"))}}]},{children:(0,r.jsx)(l.Z,{placeholder:i("plugin-market.placeholder")})}))}))}))]})}}}]);
//# sourceMappingURL=158.c8c8fc42.js.map